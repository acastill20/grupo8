ALTER USER grupo8 ENCRYPTED PASSWORD 'beatillo';
SELECT * FROM compartimientos;
DROP TABLE IF EXISTS Comunas_Unidades;
CREATE TABLE Comunas_Unidades(uid INT, comuna VARCHAR(100));
\dt
\COPY Unidades from Unidades.csv DELIMITER ',' CSV HEADER;
SELECT * FROM Unidades;
SELECT * FROM Vehicles;
SELECT * FROM Vehiculos;
SELECT * FROM Personal;
DROP IF EXISTS Personal;
DROP TABLE IF EXISTS personal;
CREATE TABLE personal(pid INT Primary KEY, nombre VARCHAR(100), sexo VARCHAR(100), edad INT, tipopersonal VARCHAR(100));
DROP TABLE IF EXISTS Vehiculos;
CREATE TABLE VehiculosPatente(vid INT PRIMARY KEY, patente INT);
CREATE TABLE VehiculosTipo(vid INT PRIMARY KEY, tipo VARCHAR(100));
CREATE TABLE Vehiculos(vid INT, uid INT, estado VARCHAR(100), PRIMARY KEY(vid, uid));
\dt
SELECT * FROM vehiculosfrescos;
SELECT * FROM vehiculoscarga;
SELECT * FROM vehiculosfrios;
SELECT * FROM compartimientos;
\dt
q;
\q
CREATE TABLE UnidadesComunas(uid INT, comuna VARCHAR(100), PRIMARY KEY(uid,comuna));
CREATE TABLE Vehiculos(vid INT PRIMARY KEY, estado VARCHAR(100), uid INT);
CREATE TABLE VehiculosLicencia(vid INT PRIMARY KEY, licencia VARCHAR(100));
CREATE TABLE VehiculosCarga(vid INT PRIMARY KEY, volumen FLOAT, cargamax FLOAT);
CREATE TABLE VehiculosPatente(vid INT PRIMARY KEY, patente VARCHAR(100));
CREATE TABLE VehiculosFrescos(vid INT PRIMARY KEY, alcance FLOAT);
CREATE TABLE VehiculosFrios(vid INT PRIMARY KEY, n_compartimientos FLOAT, capacidad_compartimientos FLOAT);
CREATE TABLE Despachos(did INT PRIMARY KEY, fecha DATE, origen INT,destino INT, vid INT, pid INT);
CREATE TABLE DespachosCompra(did INT, id_compra INT, PRIMARY KEY(did, id_compra));
CREATE TABLE Personal(pid INT PRIMARY KEY, nombre VARCHAR(100), sexo VARCHAR(100), edad INT, tipo_licencia VARCHAR(100));
\COPY PersonalRepartidor from PersonalRepartidor.csv DELIMITER ',' CSV HEADER;
\c grupo8e2
\dt
SELECT * FROM Despachos:;
SELECT * FROM Despachos;
SELECT * FROM despachoscompra;
SELECT * FROM Direcciones;
SELECT * FROM personal;
SELECT * FROM personaladmin;
SELECT * FROM personal;
SELECT * FROM personalrepartidor;
SELECT * FROM unidades;
SELECT * FROM unidadesjefe;
SELECT * FROM unidadescomunas;
\dt
SELECT * FROM vehiculos;
SELECT * FROM vehiculoscarga;
SELECT * FROM vehiculosfrescos;
SELECT * FROM vehiculosfrios;
SELECT * FROM vehiculoslicencia;
\dtq
SELECT * FROM Despachos;
SELECT * FROM despachoscompra;
SELECT * FROM Direcciones;
SELECT * FROM Despachos;
SELECT * FROM personal;
SELECT * FROM personalrepartidor;
SELECT * FROM personalrut;
SELECT * FROM unidades;
SELECT * FROM unidadescomunas;
SELECT * FROM vehiculos;
SELECT * FROM Despachos;
\dt
DROP TABLE IF EXISTS personalrepartidor;
CREATE TABLE PersonalRepartidor(pid INT, tipo_licencia VARCHAR(100), vid INT, PRIMARY KEY (pid,tipo_licencia,vid));
\COPY PersonalRepartidor from PersonalRepartidor.csv DELIMITER ',' CSV HEADER;
qq;
q;
\q
SELECT * FROM Unidades WHERE Unidades.direccion = 442;
DROP TABLE IF EXISTS Unidades;
CREATE TABLE Unidades(uid INT PRIMARY KEY, direccion INT);
COPY Unidades FROM Unidades.csv DELIMETER ',' CSV HEADER;
q;
\q
\dt
DROP TABLE IF EXISTS Unidades;
;
CREATE TABLE Unidades(uid INT PRIMARY KEY, direccion VARCHAR(100), FOREIGN KEY(direccion) REFERENCES Direcciones(direccion));
CREATE TABLE Unidades(uid INT PRIMARY KEY, direccion INT, FOREIGN KEY(direccion) REFERENCES Direcciones(direccion));
DROP TABLE IF EXISTS Unidades;
CREATE TABLE Unidades(uid INT PRIMARY KEY, direccion INT UNIQUE, FOREIGN KEY(direccion) REFERENCES Direcciones(direccion));
DROP TABLE IF EXISTS UnidadesJefe;
CREATE TABLE UnidadesJefe(uid INT PRIMARY KEY, pid INT UNIQUE, FOREIGN KEY(pid) REFERENCES Personal(pid));
DROP TABLE IF EXISTS Vehiculos;
CREATE TABLE Vehiculos(vid INT PRIMARY KEY, estado VARCHAR(100), uid INT, FOREIGN KEY(uid) REFERENCES Unidades(uid));
ALTER TABLE Orders
\q
ALTER TABLE UnidadesComunasADD FOREIGN KEY (uid) REFERENCES Unidades(uid);
ALTER TABLE VehiculosLicenciaADD FOREIGN KEY (vid) REFERENCES Vehiculos(uid);
ALTER TABLE VehiculosLicenciaADD FOREIGN KEY (vid) REFERENCES Vehiculos(vid);
ALTER TABLE Veh